if(!function(t){"use strict";function n(t){if(void 0===Function.prototype.name){var n=/function\s([^(]{1,})\(/,e=n.exec(t.toString());return e&&e.length>1?e[1].trim():""}return void 0===t.prototype?t.constructor.name:t.prototype.constructor.name}function e(t){return/true/.test(t)?!0:/false/.test(t)?!1:isNaN(1*t)?t:parseFloat(t)}function a(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}var i="",o={version:i,_plugins:{},_uuids:[],rtl:function(){return"rtl"===t("html").attr("dir")},plugin:function(t,e){var i=e||n(t),o=a(i);this._plugins[o]=this[i]=t},registerPlugin:function(t,e){var i=e?a(e):n(t.constructor).toLowerCase();t.uuid=this.GetYoDigits(6,i),t.$element.attr("data-"+i)||t.$element.attr("data-"+i,t.uuid),t.$element.data("myappPlugin")||t.$element.data("myappPlugin",t),t.$element.trigger("init.myapp."+i),this._uuids.push(t.uuid)},unregisterPlugin:function(t){var e=a(n(t.$element.data("myappPlugin").constructor));this._uuids.splice(this._uuids.indexOf(t.uuid),1),t.$element.removeAttr("data-"+e).removeData("myappPlugin").trigger("destroyed.myapp."+e);for(var i in t)t[i]=null},reInit:function(n){var e=n instanceof t;try{if(e)n.each(function(){t(this).data("myappPlugin")._init()});else{var a=typeof n,i=this,o={object:function(n){n.forEach(function(n){t("[data-"+n+"]").myapplication("_init")})},string:function(){t("[data-"+n+"]").myapplication("_init")},undefined:function(){this.object(Object.keys(i._plugins))}};o[a](n)}}catch(r){console.error(r)}finally{return n}},GetYoDigits:function(t,n){return t=t||6,Math.round(Math.pow(36,t+1)-Math.random()*Math.pow(36,t)).toString(36).slice(1)+(n?"-"+n:"")},reflow:function(n,a){"undefined"==typeof a?a=Object.keys(this._plugins):"string"==typeof a&&(a=[a]);var i=this;t.each(a,function(a,o){var r=i._plugins[o],l=t(n).find("[data-"+o+"]").addBack("[data-"+o+"]");l.each(function(){var n=t(this),a={};if(n.data("myappPlugin"))return void console.warn("Tried to initialize "+o+" on an element that already has a [MyApplication] plugin.");if(n.attr("data-options")){n.attr("data-options").split(";").forEach(function(t,n){var i=t.split(":").map(function(t){return t.trim()});i[0]&&(a[i[0]]=e(i[1]))})}try{n.data("myappPlugin",new r(t(this),a))}catch(i){console.error(i)}finally{return}})})},getFnName:n,transitionend:function(t){var n,e={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"},a=document.createElement("div");for(var i in e)"undefined"!=typeof a.style[i]&&(n=e[i]);return n?n:(n=setTimeout(function(){t.triggerHandler("transitionend",[t])},1),"transitionend")}};o.libs={},o.util={throttle:function(t,n){var e=null;return function(){var a=this,i=arguments;null===e&&(e=setTimeout(function(){t.apply(a,i),e=null},n))}}};var r=function(e){var a=typeof e,i=t("meta.myapplication-mq"),r=t(".no-js");if(i.length||t('<meta class="myapplication-mq">').appendTo(document.head),r.length&&r.removeClass("no-js"),"undefined"===a)o.MediaQuery._init(),o.reflow(this);else{if("string"!==a)throw new TypeError("We're sorry, '"+a+"' is not a valid parameter. You must use a string representing the method you wish to invoke.");var l=Array.prototype.slice.call(arguments,1),s=this.data("myappPlugin");if(void 0===s||void 0===s[e])throw new ReferenceError("We're sorry, '"+e+"' is not an available method for "+(s?n(s):"this element")+".");1===this.length?s[e].apply(s,l):this.each(function(n,a){s[e].apply(t(a).data("myappPlugin"),l)})}return this};window.MyApplication=o,t.fn.myapplication=r,function(){Date.now&&window.Date.now||(window.Date.now=Date.now=function(){return(new Date).getTime()});for(var t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n){var e=t[n];window.requestAnimationFrame=window[e+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var a=0;window.requestAnimationFrame=function(t){var n=Date.now(),e=Math.max(a+16,n);return setTimeout(function(){t(a=e)},e-n)},window.cancelAnimationFrame=clearTimeout}window.performance&&window.performance.now||(window.performance={start:Date.now(),now:function(){return Date.now()-this.start}})}(),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var n=Array.prototype.slice.call(arguments,1),e=this,a=function(){},i=function(){return e.apply(this instanceof a?this:t,n.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(a.prototype=this.prototype),i.prototype=new a,i})}(jQuery),!MyApplication)var MyApplication={};MyApplication.Config||(MyApplication.Config={renderer:"undefined"!=typeof Foundation?"foundation":"bootstrap",lang:$("HTML").attr("lang")||"en",xhrSelectors:{xhrButtons:"A.btn[href*='add'], A.btn[href*='edit'], A.btn[href*='details'], A.btn[href*='delete']",xhrCTAOpen:"A.btn-cta-xhr.cta-xhr-modal",xhrCTAClose:".modal-content .btn-cta-xhr-close, .modal-content .alert, .modal-content .close, .modal-content .cta-xhr-modal-close",xhrForms:".modal-content .form-xhr"},modals:{bootstrapElementClassname:"modal",foundationElementClassname:"reveal"},dataTable:{langURLs:{en:"//cdn.datatables.net/plug-ins/1.10.9/i18n/English.json",de:"//cdn.datatables.net/plug-ins/1.10.9/i18n/German.json",fr:"//cdn.datatables.net/plug-ins/1.10.9/i18n/French.json",es:"//cdn.datatables.net/plug-ins/1.10.9/i18n/Spanish.json",it:"//cdn.datatables.net/plug-ins/1.10.9/i18n/Italian.json"},stateSave:!0,stateDuration:86400}}),!function(t,n){function e(t){var n={};return"string"!=typeof t?n:(t=t.trim().slice(1,-1))?n=t.split("&").reduce(function(t,n){var e=n.replace(/\+/g," ").split("="),a=e[0],i=e[1];return a=decodeURIComponent(a),i=void 0===i?null:decodeURIComponent(i),t.hasOwnProperty(a)?Array.isArray(t[a])?t[a].push(i):t[a]=[t[a],i]:t[a]=i,t},{}):n}var a={queries:[],current:"",atLeast:function(t){var n=this.get(t);return n?window.matchMedia(n).matches:!1},get:function(t){for(var n in this.queries){var e=this.queries[n];if(t===e.name)return e.value}return null},_init:function(){var n,a=this,i=t(".myapplication-mq").css("font-family");n=e(i);for(var o in n)a.queries.push({name:o,value:"only screen and (min-width: "+n[o]+")"});this.current=this._getCurrentSize(),this._watcher()},_getCurrentSize:function(){var t;for(var n in this.queries){var e=this.queries[n];window.matchMedia(e.value).matches&&(t=e)}return"object"==typeof t?t.name:t},_watcher:function(){var n=this;t(window).on("resize.zf.mediaquery",function(){var e=n._getCurrentSize();e!==n.current&&(t(window).trigger("changed.zf.mediaquery",[e,n.current]),n.current=e)})}};n.MediaQuery=a,window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var n=document.createElement("style"),e=document.getElementsByTagName("script")[0],a=null;n.type="text/css",n.id="matchmediajs-test",e.parentNode.insertBefore(n,e),a="getComputedStyle"in window&&window.getComputedStyle(n,null)||n.currentStyle,t={matchMedium:function(t){var e="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return n.styleSheet?n.styleSheet.cssText=e:n.textContent=e,"1px"===a.width}}}return function(n){return{matches:t.matchMedium(n||"all"),media:n||"all"}}}())}(jQuery,MyApplication),function(t,n,e,a,i){"use strict";a.libs.myUtility={name:"myutility",version:"0.0.1",settings:{callback:function(){}},init:function(t,n,e){this.bindings(n,e)},events:function(){var n=this,e=this.S;t(this.scope).off(".alert").on("click.myapp.myutility","["+this.attr_name()+"] .close",function(t){var a=e(this).closest("["+n.attr_name()+"]"),i=a.data(n.attr_name(!0)+"-init")||n.settings;t.preventDefault(),Modernizr.csstransitions?(a.addClass("myutility-close"),a.on("transitionend webkitTransitionEnd oTransitionEnd",function(t){e(this).trigger("close.fndtn.myutility").remove(),i.callback()})):a.fadeOut(300,function(){e(this).trigger("close.fndtn.myutility").remove(),i.callback()})})},reflow:function(){}},a.myUtility={}}(jQuery,window,document,window.MyApplication),!function(t,n){"use strict";function e(a,i){return t.fn.dataTable?(this.$element=a,this.options=t.extend({},e.defaults,this.$element.data(),i),this._init(),void n.registerPlugin(this)):void console.warn("jQuery dataTable plug-in not found...")}e.defaults={},e.prototype._init=function(){this._datatable(),this._events()},e.prototype._datatable=function(){var e=(this.$element.attr("id"),t(this.$element)),a=n.Config.dataTable.langURLs[n.Config.lang],i=t.extend({renderer:"undefined"!=typeof Foundation?"foundation":"bootstrap",language:{url:a},stateSave:n.Config.dataTable.stateSave,stateDuration:n.Config.dataTable.stateDuration},this.options),o=t(e).data("src");if(o&&t(e).hasClass("crud")){i.ajax={url:o,type:"POST"};var r=!1;if(e.find("THEAD TH").each(function(){var n=t(this).data("column");n&&(r||(r=[]),r.push({data:n}))}),r){if(e.find("THEAD TH.actions").size()>0){r.push(null);var l=[{targets:-1,data:"_actions_",sortable:!1,searchable:!1}];i.columnDefs=l}i.columns=r}}var s=e.dataTable(i);return s},e.prototype._events=function(){},e.prototype.destroy=function(){n.unregisterPlugin(this)},n.plugin(e,"MyApplicationDatatable")}(jQuery,window.MyApplication),jQuery||(console.error("jQuery not found..."),window.stop()),function(t,n,e,a){var i=t(n);a.Config.lang;a.initCTAXHRAclMatrix=function(){return t(".datatable.matrix").each(function(n,e){var a=t(this),i=a.find("FORM.allow, FORM.deny");i.each(function(n,e){var a=t(this);a.on("submit",function(n){var e=t(this),a=e.attr("action"),i=e.serializeArray(),o=e.parent();return t.ajax({headers:{Accept:"text/html","X-layout":"modal"},type:"POST",cache:!1,url:a,data:i,success:function(n){o.find("> FORM.allow > INPUT[type=submit], > FORM.deny > INPUT[type=submit]").each(function(n,e){var a=t(this);"disabled"==a.attr("disabled")?a.attr("disabled",!1):a.attr("disabled","disabled")})}}),n.preventDefault(),n.stopPropagation(),!1})})}),this},a.openModal=function(n,e){if("undefined"==typeof t.fn.modal&&"undefined"==typeof Foundation.Reveal)return void console.warn("Bootstrap Modal and/or Foundation Reveal plug-ins not found...");var i=null;if("undefined"!=typeof Foundation){0==t("#"+a.Config.modals.foundationElementClassname).size()&&t("BODY").append('<div id="'+a.Config.modals.foundationElementClassname+'" class="'+a.Config.modals.foundationElementClassname+'" data-reveal></div>');new Foundation.Reveal(t("#"+a.Config.modals.foundationElementClassname));t("#"+a.Config.modals.foundationElementClassname).html(n).foundation("open"),i=t("."+a.Config.modals.foundationElementClassname)}else $modalDefaults={show:!0},t(n).modal($modalDefaults),i=t("."+a.Config.modals.bootstrapElementClassname);return e&&(document._old_href=window.location.href,window.history.pushState({html:null,pageTitle:document.title},"",e)),i},a.closeModal=function(){return"undefined"==typeof t.fn.modal&&"undefined"==typeof Foundation.Reveal?void console.warn("jQuery Modal and/or Foundation Reveal plug-ins not found..."):("undefined"!=typeof Foundation?($modal=t("."+a.Config.modals.foundationElementClassname),$modal.foundation("close"),$modal.foundation("destroy")):($modal=t("."+a.Config.modals.bootstrapElementClassname),$modal.modal("hide")),t("BODY").removeClass("is-reveal-open"),t(".reveal, .modal, .modal-backdrop").remove(),document._old_href&&(window.history.pushState({html:null,pageTitle:document.title},"",document._old_href),document._old_href=null),this)},a.initCTAXHRModals=function(){if("undefined"==typeof t.fn.modal&&"undefined"==typeof Foundation.Reveal)return void console.warn("jQuery Modal and/or Foundation Reveal plug-ins not found...");var n=t("BODY"),e=(a.Config.xhrSelectors.xhrButtons,a.Config.xhrSelectors.xhrCTAOpen),i=a.Config.xhrSelectors.xhrCTAClose,o=a.Config.xhrSelectors.xhrForms;return n.on("click",e,{},function(n){var e=t(this);t.data(e,"actioncontext");return $btnUrl=e.attr("href"),t.ajax({headers:{Accept:"text/html","X-layout":"modal"},type:"GET",cache:!1,url:e.attr("href"),success:function(n){a.openModal(n,$btnUrl),t.dataTable&&t(".datatable").dataTable().api().ajax.reload(function(t){},!0)}}),n.preventDefault(),n.stopPropagation(),!1}),n.on("submit",o,{},function(n){var e=t(this),i=e.attr("action"),o=e.serializeArray();return o.push(e.find("INPUT[name=del].btn").size()>0?{name:"del",value:"delete"}:null),t.ajax({headers:{Accept:"text/html","X-layout":"modal"},type:"POST",cache:!1,url:i,data:o,success:function(n){a.closeModal(),a.openModal(n,$formURL),t.dataTable&&t(".datatable").dataTable().api().ajax.reload(function(t){},!0)}}),n.preventDefault(),n.stopPropagation(),!1}),n.on("click",i,{},function(t){return a.closeModal(),t.preventDefault(),t.stopPropagation(),!1}),this},i.ready(function(){t(document).myapplication();try{a.initCTAXHRModals&&a.initCTAXHRModals()}catch(n){}try{}catch(n){}try{a.initCTAXHRAclMatrix&&a.initCTAXHRAclMatrix()}catch(n){}})}(jQuery,document,window,MyApplication);