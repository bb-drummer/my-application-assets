if(!function(t){"use strict";function n(t){if(void 0===Function.prototype.name){var n=/function\s([^(]{1,})\(/,e=n.exec(t.toString());return e&&e.length>1?e[1].trim():""}return void 0===t.prototype?t.constructor.name:t.prototype.constructor.name}function e(t){return/true/.test(t)?!0:/false/.test(t)?!1:isNaN(1*t)?t:parseFloat(t)}function a(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}var o="",i={version:o,_plugins:{},_uuids:[],rtl:function(){return"rtl"===t("html").attr("dir")},plugin:function(t,e){var o=e||n(t),i=a(o);this._plugins[i]=this[o]=t},registerPlugin:function(t,e){var o=e?a(e):n(t.constructor).toLowerCase();t.uuid=this.GetYoDigits(6,o),t.$element.attr("data-"+o)||t.$element.attr("data-"+o,t.uuid),t.$element.data("myappPlugin")||t.$element.data("myappPlugin",t),t.$element.trigger("init.myapp."+o),this._uuids.push(t.uuid)},unregisterPlugin:function(t){var e=a(n(t.$element.data("myappPlugin").constructor));this._uuids.splice(this._uuids.indexOf(t.uuid),1),t.$element.removeAttr("data-"+e).removeData("myappPlugin").trigger("destroyed.myapp."+e);for(var o in t)t[o]=null},reInit:function(n){var e=n instanceof t;try{if(e)n.each(function(){t(this).data("myappPlugin")._init()});else{var a=typeof n,o=this,i={object:function(n){n.forEach(function(n){t("[data-"+n+"]").myapplication("_init")})},string:function(){t("[data-"+n+"]").myapplication("_init")},undefined:function(){this.object(Object.keys(o._plugins))}};i[a](n)}}catch(r){console.error(r)}finally{return n}},GetYoDigits:function(t,n){return t=t||6,Math.round(Math.pow(36,t+1)-Math.random()*Math.pow(36,t)).toString(36).slice(1)+(n?"-"+n:"")},reflow:function(n,a){"undefined"==typeof a?a=Object.keys(this._plugins):"string"==typeof a&&(a=[a]);var o=this;t.each(a,function(a,i){var r=o._plugins[i],l=t(n).find("[data-"+i+"]").addBack("[data-"+i+"]");l.each(function(){var n=t(this),a={};if(n.data("myappPlugin"))return void console.warn("Tried to initialize "+i+" on an element that already has a [MyApplication] plugin.");if(n.attr("data-options")){n.attr("data-options").split(";").forEach(function(t,n){var o=t.split(":").map(function(t){return t.trim()});o[0]&&(a[o[0]]=e(o[1]))})}try{n.data("myappPlugin",new r(t(this),a))}catch(o){console.error(o)}finally{return}})})},getFnName:n,transitionend:function(t){var n,e={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"},a=document.createElement("div");for(var o in e)"undefined"!=typeof a.style[o]&&(n=e[o]);return n?n:(n=setTimeout(function(){t.triggerHandler("transitionend",[t])},1),"transitionend")}};i.util={throttle:function(t,n){var e=null;return function(){var a=this,o=arguments;null===e&&(e=setTimeout(function(){t.apply(a,o),e=null},n))}}};var r=function(e){var a=typeof e,o=t("meta.myapplication-mq"),i=t(".no-js");if(o.length||t('<meta class="myapplication-mq">').appendTo(document.head),i.length&&i.removeClass("no-js"),"undefined"===a)Foundation.MediaQuery._init(),Foundation.reflow(this);else{if("string"!==a)throw new TypeError("We're sorry, '"+a+"' is not a valid parameter. You must use a string representing the method you wish to invoke.");var r=Array.prototype.slice.call(arguments,1),l=this.data("myappPlugin");if(void 0===l||void 0===l[e])throw new ReferenceError("We're sorry, '"+e+"' is not an available method for "+(l?n(l):"this element")+".");1===this.length?l[e].apply(l,r):this.each(function(n,a){l[e].apply(t(a).data("myappPlugin"),r)})}return this};window.MyApplication=i,t.fn.myapplication=r,function(){Date.now&&window.Date.now||(window.Date.now=Date.now=function(){return(new Date).getTime()});for(var t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n){var e=t[n];window.requestAnimationFrame=window[e+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var a=0;window.requestAnimationFrame=function(t){var n=Date.now(),e=Math.max(a+16,n);return setTimeout(function(){t(a=e)},e-n)},window.cancelAnimationFrame=clearTimeout}window.performance&&window.performance.now||(window.performance={start:Date.now(),now:function(){return Date.now()-this.start}})}(),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var n=Array.prototype.slice.call(arguments,1),e=this,a=function(){},o=function(){return e.apply(this instanceof a?this:t,n.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(a.prototype=this.prototype),o.prototype=new a,o})}(jQuery),!MyApplication)var MyApplication={};MyApplication.Config||(MyApplication.Config={renderer:"undefined"!=typeof Foundation?"foundation":"bootstrap",lang:$("HTML").attr("lang")||"en",xhrSelectors:{xhrButtons:"A.btn[href*='add'], A.btn[href*='edit'], A.btn[href*='details'], A.btn[href*='delete']",xhrCTAOpen:"A.btn-cta-xhr.cta-xhr-modal",xhrCTAClose:".modal-content .btn-cta-xhr-close, .modal-content .alert, .modal-content .close, .modal-content .cta-xhr-modal-close",xhrForms:".modal-content .form-xhr"},modals:{bootstrapElementClassname:"modal",foundationElementClassname:"reveal"},dataTable:{langURLs:{en:"//cdn.datatables.net/plug-ins/1.10.9/i18n/English.json",de:"//cdn.datatables.net/plug-ins/1.10.9/i18n/German.json",fr:"//cdn.datatables.net/plug-ins/1.10.9/i18n/French.json",es:"//cdn.datatables.net/plug-ins/1.10.9/i18n/Spanish.json",it:"//cdn.datatables.net/plug-ins/1.10.9/i18n/Italian.json"},stateSave:!0,stateDuration:86400}}),jQuery||(console.error("jQuery not found..."),window.stop()),function(t,n,e,a){var o=t(n);a.Config.lang;a.initDatatables=function(){return t.fn.dataTable?(t(".datatable").each(function(n,e){var o=t(this),i=a.Config.dataTable.langURLs[a.Config.lang],r={renderer:"undefined"!=typeof Foundation?"foundation":"bootstrap",language:{url:i},stateSave:a.Config.dataTable.stateSave,stateDuration:a.Config.dataTable.stateDuration},l=t(o).data("src");if(l&&t(o).hasClass("crud")){r.ajax={url:l,type:"POST"};var s=!1;o.find("THEAD TH").each(function(){var n=t(this).data("column");n&&(s||(s=[]),s.push({data:n}))}),s&&(o.find("THEAD TH.actions").size()>0&&(s.push(null),$columnDefs=[{targets:-1,data:"_actions_",sortable:!1,searchable:!1}],r.columnDefs=$columnDefs),r.columns=s)}o.dataTable(r)}),this):void console.warn("jQuery dataTable plug-in not found...")},a.initCTAXHRAclMatrix=function(){return t(".datatable.matrix").each(function(n,e){var a=t(this),o=a.find("FORM.allow, FORM.deny");o.each(function(n,e){var a=t(this);a.on("submit",function(n){var e=t(this),a=e.attr("action"),o=e.serializeArray(),i=e.parent();return t.ajax({headers:{Accept:"text/html","X-layout":"modal"},type:"POST",cache:!1,url:a,data:o,success:function(n){i.find("> FORM.allow > INPUT[type=submit], > FORM.deny > INPUT[type=submit]").each(function(n,e){var a=t(this);"disabled"==a.attr("disabled")?a.attr("disabled",!1):a.attr("disabled","disabled")})}}),n.preventDefault(),n.stopPropagation(),!1})})}),this},a.openModal=function(n,e){if("undefined"==typeof t.fn.modal&&"undefined"==typeof Foundation.Reveal)return void console.warn("Bootstrap Modal and/or Foundation Reveal plug-ins not found...");var o=null;if("undefined"!=typeof Foundation){0==t("#"+a.Config.modals.foundationElementClassname).size()&&t("BODY").append('<div id="'+a.Config.modals.foundationElementClassname+'" class="'+a.Config.modals.foundationElementClassname+'" data-reveal></div>');new Foundation.Reveal(t("#"+a.Config.modals.foundationElementClassname));t("#"+a.Config.modals.foundationElementClassname).html(n).foundation("open"),o=t("."+a.Config.modals.foundationElementClassname)}else $modalDefaults={show:!0},t(n).modal($modalDefaults),o=t("."+a.Config.modals.bootstrapElementClassname);return e&&(document._old_href=window.location.href,window.history.pushState({html:null,pageTitle:document.title},"",e)),o},a.closeModal=function(){return"undefined"==typeof t.fn.modal&&"undefined"==typeof Foundation.Reveal?void console.warn("jQuery Modal and/or Foundation Reveal plug-ins not found..."):("undefined"!=typeof Foundation?($modal=t("."+a.Config.modals.foundationElementClassname),$modal.foundation("close"),$modal.foundation("destroy")):($modal=t("."+a.Config.modals.bootstrapElementClassname),$modal.modal("hide")),t("BODY").removeClass("is-reveal-open"),t(".reveal, .modal, .modal-backdrop").remove(),document._old_href&&(window.history.pushState({html:null,pageTitle:document.title},"",document._old_href),document._old_href=null),this)},a.initCTAXHRModals=function(){if("undefined"==typeof t.fn.modal&&"undefined"==typeof Foundation.Reveal)return void console.warn("jQuery Modal and/or Foundation Reveal plug-ins not found...");var n=t("BODY"),e=(a.Config.xhrSelectors.xhrButtons,a.Config.xhrSelectors.xhrCTAOpen),o=a.Config.xhrSelectors.xhrCTAClose,i=a.Config.xhrSelectors.xhrForms;return n.on("click",e,{},function(n){var e=t(this);t.data(e,"actioncontext");return $btnUrl=e.attr("href"),t.ajax({headers:{Accept:"text/html","X-layout":"modal"},type:"GET",cache:!1,url:e.attr("href"),success:function(n){a.openModal(n,$btnUrl),t.dataTable&&t(".datatable").dataTable().api().ajax.reload(function(t){},!0)}}),n.preventDefault(),n.stopPropagation(),!1}),n.on("submit",i,{},function(n){var e=t(this),o=e.attr("action"),i=e.serializeArray();return i.push(e.find("INPUT[name=del].btn").size()>0?{name:"del",value:"delete"}:null),t.ajax({headers:{Accept:"text/html","X-layout":"modal"},type:"POST",cache:!1,url:o,data:i,success:function(n){a.closeModal(),a.openModal(n,$formURL),t.dataTable&&t(".datatable").dataTable().api().ajax.reload(function(t){},!0)}}),n.preventDefault(),n.stopPropagation(),!1}),n.on("click",o,{},function(t){return a.closeModal(),t.preventDefault(),t.stopPropagation(),!1}),this},o.ready(function(){try{a.initCTAXHRModals&&a.initCTAXHRModals()}catch(t){}try{a.initDatatables&&a.initDatatables()}catch(t){}try{a.initCTAXHRAclMatrix&&a.initCTAXHRAclMatrix()}catch(t){}})}(jQuery,document,window,MyApplication),function(t,n,e,a,o){"use strict";a.libs.myUtility={name:"myutility",version:"0.0.1",settings:{callback:function(){}},init:function(t,n,e){this.bindings(n,e)},events:function(){var n=this,e=this.S;t(this.scope).off(".alert").on("click.myapp.myutility","["+this.attr_name()+"] .close",function(t){var a=e(this).closest("["+n.attr_name()+"]"),o=a.data(n.attr_name(!0)+"-init")||n.settings;t.preventDefault(),Modernizr.csstransitions?(a.addClass("myutility-close"),a.on("transitionend webkitTransitionEnd oTransitionEnd",function(t){e(this).trigger("close.fndtn.myutility").remove(),o.callback()})):a.fadeOut(300,function(){e(this).trigger("close.fndtn.myutility").remove(),o.callback()})})},reflow:function(){}},a.myUtility={}}(jQuery,window,document,window.MyApplication);